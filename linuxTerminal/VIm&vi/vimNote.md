# Vi&Vim

Vim是一个高度可配置的文本编辑器，旨在使创建和更改任何类型的文本都非常高效。

它在大多数UNIX系统和Apple OS X中都以“vi”的形式包含。

## 一图预览

![image-20230704225139076](C:\Users\lisent124\Desktop\code\notes\linuxTerminal\VIm&vi\image\image-20230704225139076.png)



## 常用命令



## VI的模式

基本上 vi/vim 共分为三种模式

1. 命令模式（Command mode）
2. 输入模式（Insert mode）
3. 底线命令模式（Last line mode）

模式切换参看下图

![image-20230704225827153](C:\Users\lisent124\Desktop\code\notes\linuxTerminal\VIm&vi\image\image-20230704225827153.png)





## 命令模式

[N + command] 指该命令执行N遍

<Esc> 可在任何模式转化为命令模式

### 一些概念

- **词** *当前单词或下一个单词，通常以标点符号 空格 换行 或者中英文为分隔*
- **段** *以空格或换行为分隔的数据*
- **句**  以空行或  . （点）为分隔的数据
- **自然段** 以空行为分隔的数据

### 光标的位置移动

- **h**  或 <Backspace> 左移<  
- **j** 或  **+（加）**下移v
- **k** 或 **-（减）** 上移^
- **l** 或  <space> 右移>
- **gg** 至 `文首`
- **G** 至 文尾
- **J** 合并两行 即去除换行符
- **w** 下一个词头
- **W** 下一个段头
- **e**下一个词尾	
- **E**下一个段尾
- **b** 上一个词头
- **B** 上一个段B
- **(**  上一句
- **)**  下一句
- **{** 上一个自然段
- **}** 下一个自然段
- **|** 或 **^**  行首
- **$** 行尾
- `>>` 缩进
- `<<` 反缩进



### 页面滚动

- [ctrl + F]  向上翻页 
- [ctrl + B]  向下翻页
- **H** 光标移动到页首
- **L** 光标移动到页尾
- [ctrl + E]  向上滚动
- [ctrl + Y]  向下滚动

### **复制**

- **yy** 复制当前行

### **粘贴**

- **P（大写）** 粘贴在游标上一行 	
- **p** 粘贴在游标下一行

### **删除**

- **D** 同 **C** 但不会转换模式
- **dd** 同 **cc**  但不会转换模式
- **X**  删除光标前的字符 相当于windows中的 <Backspace>
- **x** 删除当前字符 相当于 <delete> 

### 命令控制

. 重复命令 如>> dd P
u 撤销命令	[Ctrl]+r 重做命令



### 模式切换

#### 进入插入模式

##### 删除并转换插入模式

- **C**   删除一行内 **光标后**的内容 并转换为插入模式
- **cc** 删除当前行  并转换为插入模式
- **S** 同 **cc** 删除当前行插入
- **s** 删除当前字符插入

##### 光标移动并转换插入模式

- **I** 行首插入		
- **i** 光标当前位置插入
- **A** 行尾插入
- **a** 光标下一位插入
- **O** 在上一行新建一行并插入
- **o** 在下一行新建一行并插入



#### 进入底线命令模式

 输入 **:** 即可



#### 进入其他模式

##### REPLACE模式

相当于是Windows下的 insert模式，即会将光标后的字符替换

**R** 进入replace模式	

若输入 **r*字符*** 则会将光标位置的字符替换为*字符*



##### VISUAL模式

可视模式，会有一个选中效果，可对选中的内容操作

- **V** 进入行选中模式

- **v** 进入普通选中模式

##### 查找模式

查找模式旨在寻找文本中的相同字符串

有两种方式进入该模式

1. 输入 **/*字符串*** 根据光标位置向后查找
2. 输入 **?*字符串*** 根据光标位置向前查找

<Enter> 完成输入，过后可通过输入N 或 n 在目标内容中跳转

- **n** 查找下一个	
- **N** 查找上一个

除此之外还有一种行内快捷查找单个字符的方式

- **F*字符***  行内向上查找第一个字符
- **f*字符***  行内向下查找第一个字符



### 退出保存

- **ZZ** 保存退出
- **ZQ** 不保存退出





## 底线命令模式

底线命令模式会在底行那里接受参数，以：开头，以<Enter> 执行

- **w** 保存
- **q** 退出
- **q!** 强制退出（不保存）
- **wq** 保存退出
- **new** 新建文件
- **%s/word1/word2/g** 全局搜索word1并将其替换为word2
- **! command**  暂时离开vi 在外部终端中执行command
- **w [filename]** 另存为