# 正则表达式

正则表达式(Regular Expression)是一种文本模式，包括普通字符（例如，a 到 z 之间的字母）和特殊字符（称为"元字符"），可以用来描述和匹配字符串的特定模式。

正则表达式是一种用于模式匹配和搜索文本的工具。

正则表达式提供了一种灵活且强大的方式来查找、替换、验证和提取文本数据。

正则表达式可以应用于各种编程语言和文本处理工具中，如 JavaScript、Python、Java、Perl 等。



## 环境区别

不同语言环境下，正则的匹配规则有所不同，参考下表（**√ 表示可用**）

| **命令或环境** | **.** | **[]** | **^** | **$** | **\( \)** | **\{ \}** | **?** | **+** | **\|** | **( )** |
| -------------- | ----- | ------ | ----- | ----- | --------- | --------- | ----- | ----- | ------ | ------- |
| **vi**         | √     | √      | √     | √     | √         |           |       |       |        |         |
| **Visual C++** | √     | √      | √     | √     | √         |           |       |       |        |         |
| **awk**        | √     | √      | √     | √     |           | -         | √     | √     | √      | √       |
| **sed**        | √     | √      | √     | √     | √         | √         |       |       |        |         |
| **delphi**     | √     | √      | √     | √     | √         |           | √     | √     | √      | √       |
| **python**     | √     | √      | √     | √     | √         | √         | √     | √     | √      | √       |
| **java**       | √     | √      | √     | √     | √         | √         | √     | √     | √      | √       |
| **javascript** | √     | √      | √     | √     | √         |           | √     | √     | √      | √       |
| **php**        | √     | √      | √     | √     | √         |           |       |       |        |         |
| **perl**       | √     | √      | √     | √     | √         |           | √     | √     | √      | √       |
| **C#**         | √     | √      | √     | √     |           |           | √     | √     | √      | √       |

## 匹配规则

### 字符匹配 

- `[abc]`	 匹配 a b c 中的所有字符
- `[^abc]`	 匹配除了 a b c 中的所有字符
- `[a-b]`	匹配a到b的所有字符
- `.`	匹配除了换行符之外的字符串相当于`[^\n\r]`
- `\s` 	匹配所有空白符
- \S 	匹配非所有空白符
- `\w`	匹配字母、数字、下划线 等价于 `[A-Za-z0-9_]`
- `\d`	等价于 `[0-9]`
- `\D`	等价于 `[^0-9]`
- `\b`	匹配单词边界，即字与空格间的位置
- `\r` 	匹配回车符

### 特殊字符

- `$`	匹配字符串的结尾
- `^`	匹配字符串的开始
- `()`	匹配字符串的开始和结尾
- `|`	或选择

### 限定符 

- `o+` 	表示字符"o" 出现1+次
- `o*`	表示字符"o"出现0+次
- `o？`	表示字符"o"出现0或1次
- `o{n,m}`	表示字符"o"出现n到m次

### 修饰符

标记不写在正则表达式里，标记位于表达式之外，格式如下：

```re
/pattern/flags
```

| 饰符 | 含义                                   | 描述                                                         |
| :--- | :------------------------------------- | :----------------------------------------------------------- |
| i    | ignore - 不区分大小写                  | 将匹配设置为不区分大小写，搜索时不区分大小写: A 和 a 没有区别。 |
| g    | global - 全局匹配                      | 查找所有的匹配项。                                           |
| m    | multi line - 多行匹配                  | 使边界字符 **^** 和 **$** 匹配每一行的开头和结尾，记住是多行，而不是整个字符串的开头和结尾。 |
| s    | 特殊字符圆点 **.** 中包含换行符 **\n** | 默认情况下的圆点 **.** 是匹配除换行符 **\n** 之外的任何字符，加上 **s** 修饰符之后, **.** 中包含换行符 \n。 |



### 贪婪匹配 

最大范围匹配即贪婪匹配

正则中默认就是贪婪匹配

### 非贪婪匹配

需要在匹配字符后加？

原理参考限定符

### 匹配内表达式

- exp1(?=exp2)：查找 exp2 前面的 exp1
- (?<=exp2)exp1：查找 exp2 后面的 exp1
- exp1(?!exp2)：查找后面不是 exp2 的 exp1
- (?<!exp2)exp1：查找前面不是 exp2 的 exp1
- (?#.....) 	括号内的内容将被忽略
