# linux shell 笔记

-------------

## 常见修饰符

* -i 交互模式又称安全模式
* -f 强制模式
* -r 级联模式

-------------

## 常用命令

### 对工作目录操作

####  **ls** *列出目录中文件*
* ls -a 列出目录所有文件，包含以.开始的隐藏文件
* ls -A 列出除.及..的其它文件
* ls -r 反序排列
* ls -t 以文件修改时间排序
* ls -S 以文件大小排序
* ls -h 以易读大小显示
* ls -l 文件详细信息
* 特殊
   * ls t*	列出当前目录中所有以"t"开头的目录的详细内容
   * ls | sed "s:^:`pwd`/:"列出文件绝对路径（不包含隐藏文件）

#### **cd** *转移工作目录*
* cd / 	进入根目录
* cd ~	进入 "home" 目录
* cd -	进入上一次工作路径
* cd !$	把上个命令的参数作为cd参数使用。

#### **pwd** *显示当前工作目录*

--------------

### 对文件或文件夹操作

#### **mkdir**
* mkdir temp 	当前目录下创建temp目录
* mkdir -p /temp 	强制创建/temp目录

#### **rm**  *即remove 文件或文件夹*
* rm *.c 删除任何.c文件

#### **rmdir** 
* 删除某目录时也必须具有对其父目录的写权限
* 注意：不能删除非空目录

#### **mv** *移动文件或修改文件名*

* ***mv test.log test1.txt***
将文件 test.log 重命名为 test1.txt
* ***mv f1.txt f2.txt f3.txt /test3***
将文件 f1.txt,f2.txt,f3.txt 移动/test3 目录中

#### **cp** *copy*
* ***cp -a file.c file_1.c***
复制的文件与原文件时间一样
* ***cp -s file.c link_a.c***
为 file.c 建立一个软链接（快捷方式）

#### **which** *查找文件*
查看可执行文件的位置。
whereis-->
查看文件的位置。
locate  -->
配合数据库查看文件位置。
find-->
 实际搜寻硬盘查询文件名称。
-name 按照文件名查找文件
-perm 按文件权限查找文件
-user 按文件属主查找文件
-group  按照文件所属的组来查找文件。
-type  查找某一类型的文件，诸如：
   b - 块设备文件
   d - 目录
   c - 字符设备文件
   l - 符号链接文件
   p - 管道文件
   f - 普通文件

-size n :[c] 查找文件长度为n块文件，带有c时表文件字节大小
-amin n   查找系统中最后N分钟访问的文件
-atime n  查找系统中最后n*24小时访问的文件
-cmin n   查找系统中最后N分钟被改变文件状态的文件
-ctime n  查找系统中最后n*24小时被改变文件状态的文件
-mmin n   查找系统中最后N分钟被改变文件数据的文件
-mtime n  查找系统中最后n*24小时被改变文件数据的文件
(用减号-来限定更改时间在距今n日以内的文件，而用加号+来限定更改时间在距今n日以前的文件。 )
-maxdepth n 最大查找目录深度
-prune 选项来指出需要忽略的目录。在使用-prune选项时要当心，因为如果你同时使用了-depth选项，那么-prune选项就会被find命令忽略
-newer 如果希望查找更改时间比某个文件新但比另一个文件旧的所有文件，可以使用-newer选项

chmod ->>
change mode
chmod <模式> file 修改file的权限
模式-->
权限范围 + <-或+> + 权限种类
权限范围 --->
u ：目录或者文件的当前的用户
g ：目录或者文件的当前的群组
o ：除了目录或者文件的当前用户或群组之外的用户或者群组
a ：所有的用户及群组
权限种类--->
r ：读权限，用数字4表示
w ：写权限，用数字2表示
x ：执行权限，用数字1表示
- ：删除权限，用数字0表示
s ：特殊权限

chown ->>
change owner
-c 显示更改的部分的信息
-R 处理指定目录及子目录

----------------

### 对文件内容操作

#### **cat** *concatenate and print files*
* ***cat file*** 	查看文件内容
* ***cat file1 file2 > file*** 合并文件
   * -n 标记行号输出
   * -b 对非空的行标记行号输出

#### **more** *功能与cat相似,more会以一页一页的显示方便使用者逐页阅读*

##### 命令修饰符
1. +n 从笫 n 行开始显示
2. -n 定义屏幕大小为 n 行
3. +/pattern 在每个档案显示前搜寻该字串（pattern），然后从该字串前两行之后开始显示 
4. -c 从顶部清屏，然后显示
5. -d 提示“Press space to continue，’q’ to quit（按空格键继续，按q键退出）”，禁用响铃功能
6. -l 忽略Ctrl+l（换页）字符
7. -p 通过清除窗口而不是滚屏来对文件进行换页，与-c选项相似
8. -s 把连续的多个空行显示为一行
9. -u 把文件内容中的下画线去掉

##### 常用操作命令
1. Enter 向下 n 行，需要定义。默认为 1 行
2. Ctrl+F 向下滚动一屏
3. 空格键 向下滚动一屏
4. Ctrl+B 返回上一屏
5. = 输出当前行的行号
6. :f 输出文件名和当前行的行号
7. V 调用vi编辑器
8. !(command) 调用Shell，并执行命令
9. q 退出more

#### **less** *less与more类似，但使用less可以随意浏览文件，而more仅能向前移动，却不能向后移动*

#### **head** *与cat相似*
* ***-n number*** 以行为单位显示（number为复数表示从最后向前显示）
* ***-c char*** 以字节为单位显示

#### **tail** *与cat相似，逆序输出*



tar ->>
打包，解压和压缩文件
-c 建立新的压缩文件<*> 压缩
-f 指定压缩文件<*>
-r 添加文件到已经压缩文件包中
-u 添加改了和现有的文件到压缩包中
-x 从压缩包中抽取文件 <*> 解压
-t 显示压缩文件中的内容<*>
-z 支持gzip压缩
-j 支持bzip2压缩
-Z 支持compress解压文件
-v 显示操作过程<*>
tar -cvf log.tar 1.log,2.log	将文件全部打包成 tar 包
tar -zcvf file.tar.gz files 	将文件全部通过gzip压缩
tar -zxvf file.tar.gz 		将file.tar.gz 通过gzip解压

df ->>
显示磁盘空间使用情况 Disk free
du ->>
与df相似 disk usage
-a 显示目录中所有文件大小
-k 以KB为单位显示文件大小
-m 以MB为单位显示文件大小
-g 以GB为单位显示文件大小
-h 以易读方式显示文件大小
-s 仅显示总计
-c或--total  除了显示个别目录或文件的大小外，同时也显示所有目录或文件的总和

ln ->>
link 链接
-b 删除，覆盖以前建立的链接
-s 软链接（符号链接）
-v 显示详细处理过程

date ->>
显示或设定系统的日期与时间
-d<字符串> 　显示字符串所指的日期与时间。字符串前后必须加上双引号。
-s<字符串> 　根据字符串来设置日期与时间。字符串前后必须加上双引号。
-u 　显示GMT。
date +%Y%m%d --date="+1 day"  	显示下一天的日期
cal ->>
calender 日历

grep ->>
强大的文本搜索命令，grep(Global Regular Expression Print) 全局正则表达式搜索
grep [option] pattern file|dir
-A n --after-context显示匹配字符后n行
-B n --before-context显示匹配字符前n行
-C n --context 显示匹配字符前后n行
-c --count 计算符合样式的列数
-i 忽略大小写
-l 只列出文件内容符合指定的样式的文件名称
-f 从文件中读取关键词
-n 显示匹配内容的所在文件中行数
-R 递归查找文件夹

wc ->>
word count
wc [option] file..
-c 统计字节数
-l 统计行数
-m 统计字符数
-w 统计词数，一个字被定义为由空白、跳格或换行字符分隔的字符串

ps ->>
ps(process status)，用来查看当前运行的进程状态，一次性查看
-A 显示所有进程
a 显示所有进程
-a 显示同一终端下所有进程
c 显示进程真实名称
e 显示环境变量
f 显示进程间的关系
r 显示当前终端运行的进程
-aux 显示所有包含其它使用的进程

top->>
显示当前系统正在执行的进程的相关信息，包括进程 ID、内存占用率、CPU 占用率等
-c 显示完整的进程命令
-s 保密模式
-p <进程号> 指定进程显示
-n <次数>循环显示次数

kill ->>
清除进程
kill -9 $(ps -ef | grep pro1)	先使用ps查找进程pro1，然后用kill杀掉

free ->>
显示系统内存使用情况，包括物理内存、交互区内存(swap)和内核缓冲区内存



